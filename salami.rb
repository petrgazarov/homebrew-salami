# frozen_string_literal: true

# This file was generated by https://github.com/salami/salami/blob/master/.github/scripts/generate-homebrew-tap
class Salami < Formula
  desc "Salami - Infrastructure as Natural Language"
  homepage "https://github.com/petrgazarov/salami"
  version "0.0.1-rc.1"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/petrgazarov/salami/releases/download/0.0.1-rc.1/salami-0.0.1-rc.1-darwin-x64"
      sha256 "f9b497220b938678031963ca3d8b779f7058bad80e7a4320bb44d87b9af4f8b9"
    end

    if Hardware::CPU.arm?
      url "https://github.com/petrgazarov/salami/releases/download/0.0.1-rc.1/salami-0.0.1-rc.1-darwin-arm64"
      sha256 "f6dee37f2d799a6b2607c0d323f82c85f7f5436e24c8db07950c438e2d2f5398"
    end

    def install
      bin.install Dir["*"]
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/petrgazarov/salami/releases/download/0.0.1-rc.1/salami-0.0.1-rc.1-linux-arm64"
      sha256 "2de4a2ec27f93a799c79eaff629ca6949f99099b61f0b07e637b6f9a20c3e8e4"
    end

    if Hardware::CPU.intel?
      url "https://github.com/petrgazarov/salami/releases/download/0.0.1-rc.1/salami-0.0.1-rc.1-linux-x64"
      sha256 "5b59f4c81960056a99ac151b5976e3ef07b336b599139865925f789a754e0f61"
    end

    def install
      bin.install Dir["*"]
    end
  end

  test do
    system "#{bin}/salami version"
  end
end